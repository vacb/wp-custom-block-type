import "./index.scss";
// Import WP components
import {
  TextControl,
  Flex,
  FlexBlock,
  FlexItem,
  Button,
  Icon,
} from "@wordpress/components";

wp.blocks.registerBlockType("vbplugin/custom-block-type", {
  title: "Are You Paying Attention?",
  icon: "smiley",
  category: "common",
  attributes: {
    skyColour: { type: "string" },
    grassColour: { type: "string" },
  },
  // Code in post body
  edit: EditComponent,
  // Code generated by save
  save: function (props) {
    // Move responsibility from JS to PHP by returning null here instead of static text
    // Register a block type in our PHP code with the exact same name with a PHP render function responsible for output
    return null;
  },
});

function EditComponent(props) {
  function updateSkyColour(event) {
    props.setAttributes({ skyColour: event.target.value });
  }
  function updateGrassColour(event) {
    props.setAttributes({ grassColour: event.target.value });
  }
  return (
    <div className="custom-edit-block">
      <TextControl label="Question:" style={{ fontSize: "20px" }} />
      <p style={{ fontSize: "13px", margin: "20px 0 8px 0" }}>Answers:</p>
      <Flex>
        <FlexBlock>
          <TextControl />
        </FlexBlock>
        <FlexItem>
          <Button>
            <Icon icon="star-empty" className="mark-as-correct" />
          </Button>
        </FlexItem>
        <FlexItem>
          <Button isLink className="attention-delete">
            Delete
          </Button>
        </FlexItem>
      </Flex>
      <Button isPrimary>Add another answer</Button>
    </div>
  );
}
